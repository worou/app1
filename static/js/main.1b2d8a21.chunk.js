(this.webpackJsonpapp1=this.webpackJsonpapp1||[]).push([[0],{32:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(2),n=a.n(c),l=a(17),i=a.n(l),r=(a(32),a(6)),o=a(3),d=(a(33),a(18)),m=a(10),j=a(11),b=a(13),h=a(12),x=a(26),p=a(15),u=a(23),O=(a(34),a(5)),g=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,c=t.type,n=t.checked,l=t.value,i="checkbox"===c?n:l;s.setState(Object(p.a)({},a,i))},s.handleSubmit=function(e){e.preventDefault();var t="";s.state.image&&(t=s.state.image.match(/[a-zA-Z0-9-_]+\.(jpg|png)/)[0]),console.log(t);var a={marque:s.state.marque,modele:s.state.modele,pays:s.state.pays,prix:s.state.prix,image:t,disponible:s.state.disponible};s.props.getVoiture(a),s.setState(s.initState),Object(u.b)("Wow so easy!",{className:"bg-success text-white fw-bolder"})},s.initState={marque:"",modele:"",pays:"",image:"",prix:0,disponible:!1},s.state=s.initState,s}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.marque,a=e.modele,c=e.pays,n=e.prix,l=e.disponible;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col-6 offset-3",children:[Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header text-center",children:" Formulaire d'ajout"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("form",{className:"row g-3 needs-validation",onSubmit:this.handleSubmit,children:[Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("label",{htmlFor:"marque",className:"form-label",children:"Marque"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"marque",name:"marque",value:t,onChange:this.handleChange,placeholder:"Entrer la marque"})]}),Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("label",{htmlFor:"modele",className:"form-label",children:"Modele"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"modele",name:"modele",value:a,onChange:this.handleChange,placeholder:"Entrer le mod\xe8le"})]}),Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("label",{htmlFor:"pays",className:"form-label",children:"Pays"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"pays",name:"pays",value:c,onChange:this.handleChange,placeholder:"Entrer le pays"})]}),Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("label",{htmlFor:"prix",className:"form-label",children:"Prix"}),Object(s.jsx)("input",{type:"number",className:"form-control",id:"prix",value:n,onChange:this.handleChange,name:"prix",placeholder:"Entrer le prix"})]}),Object(s.jsxs)("div",{className:"col-md-12",children:[Object(s.jsx)("label",{htmlFor:"prix",className:"form-label",children:"Image"}),Object(s.jsx)("input",{type:"file",className:"form-control",id:"image",onChange:this.handleChange,name:"image"})]}),Object(s.jsx)("div",{className:"col-12",children:Object(s.jsxs)("div",{className:"form-check",children:[Object(s.jsx)("input",{className:"form-check-input",type:"checkbox",id:"disponible",onChange:this.handleChange,name:"disponible",checked:l}),Object(s.jsx)("label",{className:"form-check-label",htmlFor:"disponible",children:"Disponible"})]})}),Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("button",{className:"btn btn-primary col-12",type:"submit",children:"Soumettre"})})]})})]}),Object(s.jsx)(r.b,{to:"/admin123/reload",children:Object(s.jsx)(O.e,{size:"25"})})]})}),Object(s.jsx)(u.a,{})]})}}]),a}(c.Component),v=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).componentDidMount=function(){s.setState(s.props.autoShared),console.log(s.props.autoShared)},s.handleChange=function(e){var t=e.target,a=t.name,c=t.type,n=t.checked,l=t.value,i="checkbox"===c?n:l;s.setState(Object(p.a)({},a,i))},s.handleUpdateSubmit=function(e){e.preventDefault();var t="";s.state.image&&(t=s.state.image.match(/[a-zA-Z0-9-_]+\.(jpg|png)/)[0]);var a={id:s.state.id,marque:s.state.marque,modele:s.state.modele,pays:s.state.pays,prix:s.state.prix,image:t,disponible:s.state.disponible};s.props.update(a)},s.initState={id:-1,marque:"",modele:"",pays:"",image:"",prix:0,disponible:!1},s.state=s.initState,s}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.id,a=e.marque,c=e.modele,n=e.pays,l=e.prix,i=e.disponible;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col-6 offset-3",children:[Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header text-center",children:" Formulaire d'\xe9dition"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("form",{className:"row g-3 needs-validation",onSubmit:this.handleUpdateSubmit,children:[Object(s.jsxs)("div",{className:"col-md-2",children:[Object(s.jsx)("label",{htmlFor:"id",className:"form-label",children:"id"}),Object(s.jsx)("input",{type:"text",readOnly:!0,className:"form-control",id:"id",name:"id",value:t,onChange:this.handleChange})]}),Object(s.jsxs)("div",{className:"col-md-5",children:[Object(s.jsx)("label",{htmlFor:"marque",className:"form-label",children:"Marque"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"marque",name:"marque",value:a,onChange:this.handleChange,placeholder:"Entrer la marque"})]}),Object(s.jsxs)("div",{className:"col-md-5",children:[Object(s.jsx)("label",{htmlFor:"modele",className:"form-label",children:"Modele"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"modele",name:"modele",value:c,onChange:this.handleChange,placeholder:"Entrer le mod\xe8le"})]}),Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("label",{htmlFor:"pays",className:"form-label",children:"Pays"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"pays",name:"pays",value:n,onChange:this.handleChange,placeholder:"Entrer le pays"})]}),Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("label",{htmlFor:"prix",className:"form-label",children:"Prix"}),Object(s.jsx)("input",{type:"number",className:"form-control",id:"prix",value:l,onChange:this.handleChange,name:"prix",placeholder:"Entrer le prix"})]}),Object(s.jsxs)("div",{className:"col-md-12",children:[Object(s.jsx)("label",{htmlFor:"prix",className:"form-label",children:"Image"}),Object(s.jsx)("input",{type:"file",className:"form-control",id:"image",onChange:this.handleChange,name:"image"})]}),Object(s.jsx)("div",{className:"col-12",children:Object(s.jsxs)("div",{className:"form-check",children:[Object(s.jsx)("input",{className:"form-check-input",type:"checkbox",id:"disponible",onChange:this.handleChange,name:"disponible",checked:i}),Object(s.jsx)("label",{className:"form-check-label",htmlFor:"disponible",children:"Disponible"})]})}),Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("button",{className:"btn btn-warning col-12",type:"submit",children:"Modifier"})})]})})]}),Object(s.jsx)(r.b,{to:"/admin123/reload",children:Object(s.jsx)(O.e,{size:"25"})})]})})})}}]),a}(c.Component),N=function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("table",{className:"table table-striped text-center",children:[Object(s.jsx)("thead",{className:"table-dark",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Id"}),Object(s.jsx)("th",{children:"Marque"}),Object(s.jsx)("th",{children:"Modele"}),Object(s.jsx)("th",{children:"Pays"}),Object(s.jsx)("th",{children:"Image"}),Object(s.jsx)("th",{children:"Prix"}),Object(s.jsx)("th",{children:"Disponible"}),Object(s.jsx)("th",{colSpan:"2",children:"Actions"})]})}),Object(s.jsx)("tbody",{children:e.lines.map((function(t,a){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:t.id}),Object(s.jsx)("td",{children:t.marque}),Object(s.jsx)("td",{children:t.modele}),Object(s.jsx)("td",{children:t.pays}),Object(s.jsx)("td",{children:Object(s.jsx)("img",{src:"images/".concat(t.image),alt:"",width:"80"})}),Object(s.jsx)("td",{children:t.prix}),Object(s.jsx)("td",{children:t.disponible?Object(s.jsx)(O.d,{className:"text-success",size:"24"}):Object(s.jsx)(O.f,{className:"text-warning",size:"24"})}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{onClick:function(){e.handleEdit(a)},className:"btn btn-success",children:Object(s.jsx)(O.b,{})})}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{onClick:function(){window.confirm("Etes vous s\xfbr de supprimer cette voiture")?e.handleDelete(a):console.log("annuler")},className:"btn btn-danger",children:Object(s.jsx)(O.g,{})})})]},a)}))})]})})},f=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).componentDidMount=function(){localStorage.setItem("nom","Dupond"),localStorage.setItem("voituresKey",JSON.stringify(s.state.voitures)),localStorage.removeItem("nom")},s.handleRemove=function(e){console.log(e);var t=Object(d.a)(s.state.voitures).filter((function(t,a){return a!==e}));console.log(t),s.setState({voitures:t},(function(){console.log(s.state)}))},s.handleShow=function(e){s.setState({editForm:!0})},s.handleCar=function(e){e.id=s.state.voitures[s.state.voitures.length-1].id+1;var t=[].concat(Object(d.a)(s.state.voitures),[e]);s.setState({voitures:t}),console.log(e)},s.handleItem=function(e){var t=s.state.voitures[e];s.setState({editAuto:t,indexMod:e}),console.log(e)},s.handleUpdate=function(e){var t=Object(d.a)(s.state.voitures);t[s.state.indexMod]=e,s.setState({voitures:t})},s.state={voitures:[{id:1,marque:"Peugeot",modele:"208",pays:"France",image:"208.jpg",prix:5e3,disponible:!0},{id:2,marque:"Renault",modele:"Clio4",pays:"France",image:"clio4.jpg",prix:2500,disponible:!1},{id:3,marque:"Tesla",modele:"X",pays:"Usa",image:"x.jpg",prix:95e3,disponible:!1},{id:4,marque:"Bmw",modele:"M5",pays:"Allemagne",image:"m5.jpg",prix:149e3,disponible:!0}],editForm:!1,indexMod:-1,editAuto:{id:-1,marque:"",modele:"",pays:"",image:"",prix:0,disponible:!1},isLogin:!1},s}return Object(j.a)(a,[{key:"render",value:function(){return console.log(this.state.editAuto),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{className:"bg-secondary text-white text-center",children:"Administration"}),!this.state.editForm&&-1===this.state.indexMod&&Object(s.jsx)("button",{onClick:this.handleShow,className:"btn btn-warning offset-11 mb-1 ",children:Object(s.jsx)(x.a,{})}),!this.state.editForm&&this.state.indexMod>-1?Object(s.jsx)(v,{autoShared:this.state.editAuto,update:this.handleUpdate}):this.state.editForm?Object(s.jsx)(g,{getVoiture:this.handleCar}):Object(s.jsx)(N,{lines:this.state.voitures,handleDelete:this.handleRemove,handleEdit:this.handleItem})]})}}]),a}(c.Component),y=function e(){Object(m.a)(this,e)};y.getLoginPassword=function(){return y.url="http://localhost:3000/auto.json",fetch(y.url,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}))};var C=y,S=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(m.a)(this,a),(c=t.call(this,e)).componentDidMount=function(){C.getLoginPassword().then((function(e){c.setState({secret:e})}))},c.handleChange=function(e){var t=e.target,a=t.name,n=t.type,l=t.checked,i=t.value,r="checkbox"===n?l:i,o="",d="";"login"===a?""===r&&(o=Object(s.jsx)("strong",{children:"Le champ login est requis"})):"pass"===a&&""===r&&(d=Object(s.jsx)("strong",{children:"Le champ mot de passe est requis"})),c.setState({errorLogin:o,errorPass:d}),c.setState(Object(p.a)({},a,r))},c.handleSubmit=function(e){e.preventDefault();var t=c.state,a=t.login,s=t.pass,n=t.secret,l=t.errorLogin,i=t.errorPass;if(""===l&&""===i)if(a===n.login&&s===n.pass){var r=(new Date).toLocaleDateString();sessionStorage.setItem("token",r),c.props.history.push("/admin123"),window.location.reload()}else{c.setState({error:"Le login ou/et mot de passe ne correspondent pas"})}else{c.setState({error:"Le login ou/et mot de passe est/sont requis"})}},c.state={login:"",pass:"",secret:null,error:"",errorLogin:"",errorPass:""},c}return Object(j.a)(a,[{key:"render",value:function(){return console.log(this.state.secret),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"card position-absolute top-50 start-50 translate-middle w-25",children:[this.state.error&&Object(s.jsx)("div",{className:"alert alert-danger",children:this.state.error}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsxs)("div",{className:"mb-3",children:[Object(s.jsx)("label",{htmlFor:"login",className:"form-label",children:"Identifiant*"}),Object(s.jsx)("input",{type:"text",onChange:this.handleChange,className:"form-control",id:"login",name:"login",placeholder:"Votre login"})]}),this.state.errorLogin,Object(s.jsxs)("div",{className:"mb-3",children:[Object(s.jsx)("label",{htmlFor:"pass",className:"form-label",children:"Mot de passe*"}),Object(s.jsx)("input",{type:"password",onChange:this.handleChange,className:"form-control",name:"pass",id:"pass",placeholder:"Votre mot de passe"})]}),this.state.errorPass,Object(s.jsx)("button",{type:"submit",className:"btn btn-primary col-12",children:"Soumettre"})]})})]})})}}]),a}(c.Component);function k(e){var t=Object(o.g)();return sessionStorage.getItem("token")&&(sessionStorage.removeItem("token"),t.push("/login"),window.location.reload()),Object(s.jsx)(s.Fragment,{})}function F(e){var t=JSON.parse(localStorage.getItem("voituresKey")),a=!1;return"undefined"!==typeof t&&null!==t&&null!==t.length&&(a=!0),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"bg-light bg-gradient p-5",children:Object(s.jsxs)("div",{className:"container text-center",children:[Object(s.jsx)("h1",{className:"display-4",children:"Concessionnaire de voitures"}),Object(s.jsx)("p",{className:"lead",children:"This is a modified jumbotron that occupies the entire horizontal space of its parent."})]})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-8",children:[Object(s.jsx)("div",{className:"row",children:a?t.map((function(e,t){return Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsxs)("div",{className:"card mb-3",children:[Object(s.jsx)("img",{className:"card-img-top",src:"/app1/images/"+e.image,alt:"Card"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("h5",{className:"card-title",children:["Voiture N\xb0 00",e.id]}),Object(s.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(s.jsxs)("li",{className:"list-group-item",children:["Marque: ",e.marque]}),Object(s.jsxs)("li",{className:"list-group-item",children:["Modele: ",e.modele]}),Object(s.jsxs)("li",{className:"list-group-item",children:["Pays: ",e.pays]}),Object(s.jsxs)("li",{className:"list-group-item",children:["Prix: ",e.prix,"\u20ac"]}),Object(s.jsxs)("li",{className:"list-group-item",children:["Disponible: ",e.disponible?"oui":"non"]})]})]})]})},t)})):"Pas de voitures disponibles."}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Launch demo modal"}),Object(s.jsx)("div",{className:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Modal title"}),Object(s.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(s.jsx)("div",{className:"modal-body",children:"..."}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",children:"Save changes"})]})]})})})]}),Object(s.jsx)("div",{className:"col-md-4",style:{backgroundColor:""}})]})]})}function w(e){return Object(s.jsx)(s.Fragment,{})}var q=function(){return(new Date).toLocaleDateString()===sessionStorage.getItem("token")},M=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(r.a,{children:[Object(s.jsx)("nav",{className:"navbar navbar-expand-lg navbar navbar-dark bg-primary",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsxs)(r.c,{className:"navbar-brand",activeClassName:"",to:"/",exact:!0,children:[Object(s.jsx)(O.a,{})," C & A"]}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(s.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsxs)(r.c,{className:"nav-link",activeClassName:"active","aria-current":"page",to:"/",exact:!0,children:[Object(s.jsx)(O.c,{})," Accueil"]})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(r.c,{className:"nav-link",activeClassName:"active",to:"apropos",children:"A propos"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(r.c,{className:"nav-link",activeClassName:"active",to:"/services",children:"Services"})})]}),Object(s.jsx)("span",{className:"navbar-text",children:q()?Object(s.jsxs)(r.c,{className:"nav-link",activeClassName:"active",to:"/logout",children:[Object(s.jsx)(O.i,{})," D\xe9connexion"]}):Object(s.jsxs)(r.c,{className:"nav-link",activeClassName:"active",to:"/login",children:[Object(s.jsx)(O.h,{})," Connexion"]})})]})]})}),Object(s.jsxs)(o.d,{children:[Object(s.jsx)(o.b,{path:"/",component:F,exact:!0}),Object(s.jsx)(o.b,{path:"/login",component:S}),Object(s.jsx)(o.b,{path:"/logout",component:k})," */}",Object(s.jsx)(o.a,{exact:!0,from:"/admin123/reload",to:"/admin123"}),Object(s.jsx)(o.b,{path:"/admin123",render:function(){return q()?Object(s.jsx)(f,{authenticate:q}):Object(s.jsx)(o.a,{to:"/login"})}}),Object(s.jsx)(o.b,{path:"*",component:w})]})]})})};a(40);var D=function(){return Object(s.jsx)("div",{className:"container",children:Object(s.jsx)(M,{})})};i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(D,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.1b2d8a21.chunk.js.map